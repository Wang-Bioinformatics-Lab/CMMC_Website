
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../deposition_documentation/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.19">
    
    
      
        <title>Getting a USI - CMMC</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="#003DA5" data-md-color-accent="#FFB81C">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#documentation-for-cmmc-deposition-workflow" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="CMMC" class="md-header__button md-logo" aria-label="CMMC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CMMC
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting a USI
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Wang-Bioinformatics-Lab/CMMC_Website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CMMC_Website
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CMMC" class="md-nav__button md-logo" aria-label="CMMC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    CMMC
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Wang-Bioinformatics-Lab/CMMC_Website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CMMC_Website
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home Page
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Getting a USI
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deposition_documentation/" class="md-nav__link">
        CMMC Deposition Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network_enrichment/" class="md-nav__link">
        Network Enrichment analysis
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="documentation-for-cmmc-deposition-workflow">Documentation for CMMC deposition workflow<a class="headerlink" href="#documentation-for-cmmc-deposition-workflow" title="Permanent link">&para;</a></h1>
<p>This is a guide on how you can get a USI to further deposit it in the collaborative microbial metabolite center knowledgebase (CMMC-kb). </p>
<h1 id="important-links">Important links:<a class="headerlink" href="#important-links" title="Permanent link">&para;</a></h1>
<p><a href="https://gnps2.org/homepage">GNPS2 website</a></p>
<p><a href="https://metabolomics-usi.gnps2.org/">Metabolomics Spectrum Resolver</a></p>
<p><a href="https://www.biorxiv.org/content/10.1101/2020.05.09.086066v2">Metabolomics Spectrum Resolver preprint</a></p>
<p><a href="https://dashboard.gnps2.org/">GNPS Dashboard</a></p>
<h2 id="what-is-a-usi">What is a USI?<a class="headerlink" href="#what-is-a-usi" title="Permanent link">&para;</a></h2>
<p>USI stands for Universal Spectrum Identifier, which provides a standardized mechanism for encoding a virtual path to spectra contained in public metabolomics repositories. Currently, it supports data formats from GNPS, GNPS2, MassBank, MS2LDA, MassIVE, MetaboLights, and Metabolomics Workbench and is integrated into several of these resources. </p>
<h2 id="how-can-i-get-a-usi-for-my-spectrum">How can I get a USI for my spectrum?<a class="headerlink" href="#how-can-i-get-a-usi-for-my-spectrum" title="Permanent link">&para;</a></h2>
<p>First, we must get the mass spectrometry data into a public repository. While GNPS/MASSIVE is the preferred repository, USI’s can be linked from other repositories including Metabolights and Metabolomics Workbench. Please visit those websites for upload instructions as this document will focus on GNPS/MassIVE. </p>
<p>If you don’t have MS/MS data on the microbial molecules, please contact the CMMC team as we will help collect it for you, or come up with an experimental plan so you can collect such data. There are several methods to upload mass spectrometry data to GNPS/MassIVE, and they can be separated into <strong>single MS/MS</strong> or via entire untargeted mass spectrometry <strong>files</strong> or <strong>projects</strong>. The MS/MS and/or data files must be public before they can be used for the CMMC microbial metabolite KB curation.</p>
<h3 id="1-conversion-to-mzml">1) Conversion to .mzML<a class="headerlink" href="#1-conversion-to-mzml" title="Permanent link">&para;</a></h3>
<p>The first step is to make sure that the data is in a compatible format. The CMMC-KB will use .mzML as input files. This is an open mass spectrometry format, and depending on the vendor, the conversion can be achieved following different steps. The vendor could have a software that supports this kind of conversion, or it can be achieved following the instructions found <a href="https://ccms-ucsd.github.io/GNPSDocumentation/fileconversion/">here</a>. In addition, if it is a small data set (&lt;50 files), it is possible to use <a href="https://gnps-quickstart.ucsd.edu/conversion">drag-and-drop conversion</a> of the data.</p>
<h3 id="2-uploading-the-data">2) Uploading the data<a class="headerlink" href="#2-uploading-the-data" title="Permanent link">&para;</a></h3>
<p><strong>- Adding data to a Spectral Library or creating a new one</strong></p>
<p>For adding individual MS/MS spectra into the GNPS libraries, we have step-by-step instructions <a href="https://ccms-ucsd.github.io/GNPSDocumentation/spectrumcuration/">here</a>. There is also a batch process for the creation of a new MS/MS library that can be achieved by <a href="https://ccms-ucsd.github.io/GNPSDocumentation/batchupload/">batch upload</a>. In addition, if GNPS analysis tools (such as molecular networking) are used, one can also use “reannotate” to add the MS/MS spectrum to the library.</p>
<p><strong>- Uploading the entire file or dataset from which MS/MS will be selected for curation of the CMMC-kb</strong></p>
<p>For small data sets, the <a href="https://gnps-quickstart.ucsd.edu/massivesubmission">quick start</a> approach with a drag-and-drop interface can be used.</p>
<p>When it is a larger LC-MS/MS dataset, then please follow the instructions <a href="https://ccms-ucsd.github.io/GNPSDocumentation/datasets/">here</a>.</p>
<p>We highly encourage that a metadata table associated with files is deposited as well. The <a href="https://mwang87.github.io/ReDU-MS2-Documentation/HowtoContribute/">ReDU template</a> is recommended as this can leveraged in MASST, ReDU interface, and domain-specific MASST tools such as foodMASST and microbeMASST.</p>
<h3 id="2-getting-the-usi">2) Getting the USI<a class="headerlink" href="#2-getting-the-usi" title="Permanent link">&para;</a></h3>
<p><strong>- From spectra deposited in the libraries</strong></p>
<p>All MS/MS spectra that are curated in a GNPS spectral library can be found <a href="https://library.gnps2.org/">here</a>. To get the USI, find the compound of interest by searching the columns or SMILES. For example, the USI for the microbially conjugated Phe-CA can be found by typing "Phe-CA" and clicking in the circle relative to the row you want to select.</p>
<p><img alt="img" src="../img/Get_USI/Slide1.png" /></p>
<p>Clicking on the circle results in the display of the spectrum and the USI, which are visible by scrolling up.</p>
<p><img alt="img" src="../img/Get_USI/Slide2.png" /></p>
<p>Therefore, this is the USI for this spectrum highlighter above:
<strong>mzspec:GNPS:GNPS-LIBRARY:accession:CCMSLIB00011432553</strong></p>
<p><strong>- From a public LC-MS/MS dataset</strong></p>
<ul>
<li>Go to the GNPS Dashboard and wait a few seconds for the page to load.</li>
<li>Provide the data accession number (MassIVE ID) of the dataset.</li>
</ul>
<p><img alt="img" src="../img/Get_USI/Slide3.png" /></p>
<ul>
<li>When the dataset is loaded in the GNPS Dashboard, then the name of the dataset and associated files will show up.</li>
</ul>
<p><img alt="img" src="../img/Get_USI/Slide4.png" /></p>
<ul>
<li>Select the file from which you want to use the MS/MS to upload to the CMMC-kb.</li>
</ul>
<p>PS: if the file is not already cashed, it may take a few minutes to show up on the webpage.</p>
<ul>
<li>After selecting the .mzML file of interest, scroll up and click on "<em>visualize 1 file</em>".</li>
</ul>
<p><img alt="img" src="../img/Get_USI/Slide5.png" /></p>
<ul>
<li>Filter for the ion of interest. </li>
</ul>
<p>Detailed descriptions of how to navigate the GNPS Dashboard can be found <a href="https://ccms-ucsd.github.io/GNPSDocumentation/lcms-dashboard/">here</a>. Briefly, it is possible to filter by the ion of interest using the XIC options or by scrolling to the retention time and m/z visualization window and then clicking on the blue X to get the MS/MS spectrum.</p>
<ul>
<li>In the MS/MS visualization, click on "<em>View Metabolomics USI</em>".</li>
</ul>
<p><img src="https://github.com/helenamrusso/CMMC_Website/blob/master/docs/img/Get_USI/Slide8.png" width="500" height="400"></p>
<ul>
<li>Get the USI from the new window.</li>
</ul>
<p><img alt="img" src="../img/Get_USI/Slide9.png" /></p>
<h2 id="page-contributions">Page Contributions<a class="headerlink" href="#page-contributions" title="Permanent link">&para;</a></h2>
<p>Helena Mannochio-Russo, Pieter Dorrestein</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">November 15, 2023 23:32:39</span>
      
    
  </small>
</div>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>